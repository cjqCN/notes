# [锁](https://tech.meituan.com/2018/11/15/java-lock.html)

## 锁分类
- 是否要同步锁住资源
    - 悲观锁(锁住)
    - 乐观锁(不锁住)
- 是否要等待资源
    - 阻塞锁
    - 非阻塞锁
- 从`JVM`划分
    - 无锁 (资源自由)
    - 偏向锁 (同一个线程自动获得锁)
    - 轻量级锁 (通过自旋获得锁)
    - 重量级锁 (阻塞获取)
    ---
    | biased_lock | lock | 状态 |
    | ---- | ------ | ------- |
    |0	| 01 |	 无锁    | 
    |1	| 01 |	 偏向锁  |
    |0	| 00 |	轻量级锁 |
    |0	| 10 |	重量级锁 |
    |0	| 11 |  GC标记  |   
- 先到先得?
    - 公平锁, 直接排队
    - 非公平锁, 抢占式
- 同一个过程中可多次获得?
    - 可重入
    - 不可重入
- 是否可共享
    - 共享锁, 例如`read锁`
    - 排它锁, 例如`write锁`
    
## 悲观锁 VS 乐观锁
